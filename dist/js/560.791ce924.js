"use strict";(self["webpackChunkmusic_manage"]=self["webpackChunkmusic_manage"]||[]).push([[560],{9540:function(e,l,a){a.r(l),a.d(l,{default:function(){return M}});var u=a(3396),o=a(7139),n=a.p+"img/wyz.8ceec6ae.jpg";const t=(0,u._)("br",null,null,-1),r=(0,u._)("br",null,null,-1),d=["onClick"],m=["onClick"],s=["onClick"],c=(0,u._)("br",null,null,-1),i=(0,u._)("h3",null,"GPA",-1),p=(0,u._)("h3",null,"智育分",-1),f=(0,u._)("br",null,null,-1),v=(0,u._)("div",{class:"top-line"},null,-1),W=(0,u._)("br",null,null,-1),w=(0,u._)("h3",null,"体育分",-1),_=(0,u._)("br",null,null,-1),b=(0,u._)("div",{class:"top-line"},null,-1),g=(0,u._)("br",null,null,-1),h=(0,u._)("br",null,null,-1),V=(0,u._)("br",null,null,-1),y=["onClick"],C=["onClick"],x=(0,u._)("br",null,null,-1),k=(0,u._)("h3",null,"加分项",-1),z=(0,u._)("br",null,null,-1),N=(0,u._)("div",{class:"top-line"},null,-1),U=(0,u._)("br",null,null,-1),F=(0,u.Uk)("刷新"),S=(0,u.Uk)("计算综测得分"),H=(0,u._)("img",{align:"right",src:n,height:"120"},null,-1),D=(0,u._)("p",null,"您的综合测评成绩为",-1);function $(e,l,a,n,$,O){const A=(0,u.up)("el-input"),E=(0,u.up)("el-col"),j=(0,u.up)("el-table-column"),G=(0,u.up)("el-table"),M=(0,u.up)("el-row"),P=(0,u.up)("el-option"),Z=(0,u.up)("el-select"),q=(0,u.up)("el-button"),B=(0,u.up)("el-dialog"),I=(0,u.up)("el-card");return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(I,null,{default:(0,u.w5)((()=>[(0,u.Wm)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:3},{default:(0,u.w5)((()=>[(0,u.Wm)(A,{placeholder:"课程代码",modelValue:n.courseCode,"onUpdate:modelValue":l[0]||(l[0]=e=>n.courseCode=e)},null,8,["modelValue"]),t,r,(0,u.Wm)(A,{placeholder:"课程名称",modelValue:n.courseName,"onUpdate:modelValue":l[1]||(l[1]=e=>n.courseName=e)},null,8,["modelValue"])])),_:1}),(0,u.Wm)(E,{span:1}),(0,u.Wm)(E,{span:9},{default:(0,u.w5)((()=>[(0,u.Wm)(G,{border:"",height:"200px",data:n.course},{default:(0,u.w5)((()=>[(0,u.Wm)(j,{label:"课程代码",prop:"code",align:"center"},{default:(0,u.w5)((e=>[(0,u._)("div",{onClick:l=>n.addCourse(e.row)},(0,o.zw)(e.row.code),9,d)])),_:1}),(0,u.Wm)(j,{label:"课程名称",prop:"name",align:"center"},{default:(0,u.w5)((e=>[(0,u._)("div",{onClick:l=>n.addCourse(e.row)},(0,o.zw)(e.row.name),9,m)])),_:1})])),_:1},8,["data"])])),_:1}),(0,u.Wm)(E,{span:1}),(0,u.Wm)(E,{span:10},{default:(0,u.w5)((()=>[(0,u.Wm)(G,{border:"",height:"200px",data:n.courseData},{default:(0,u.w5)((()=>[(0,u.Wm)(j,{label:"已选课程",prop:"name",align:"center"},{default:(0,u.w5)((e=>[(0,u._)("div",{onClick:l=>n.removeCourse(e.row)},(0,o.zw)(e.row.name),9,s)])),_:1}),(0,u.Wm)(j,{label:"课程成绩",prop:"score",align:"center"},{default:(0,u.w5)((e=>[(0,u.Wm)(A,{modelValue:e.row.score,"onUpdate:modelValue":l=>e.row.score=l,placeholder:"请输入成绩,该课程为"+e.row.credit+"学分",min:0,max:100},null,8,["modelValue","onUpdate:modelValue","placeholder"])])),_:1})])),_:1},8,["data"])])),_:1})])),_:1}),c,(0,u.Wm)(M,{align:"right"},{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:16}),(0,u.Wm)(E,{span:1,align:"center"},{default:(0,u.w5)((()=>[i])),_:1}),(0,u.Wm)(E,{span:3,align:"center"},{default:(0,u.w5)((()=>[(0,u._)("h3",null,(0,o.zw)(n.gpa)+"/4.0",1)])),_:1}),(0,u.Wm)(E,{span:2},{default:(0,u.w5)((()=>[p])),_:1}),(0,u.Wm)(E,{span:2},{default:(0,u.w5)((()=>[(0,u._)("h3",null,(0,o.zw)(n.zyScore)+"/70",1)])),_:1})])),_:1}),f,v,W,(0,u.Wm)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:9},{default:(0,u.w5)((()=>[(0,u.Wm)(A,{placeholder:"请填写第一学期体育成绩",modelValue:n.term1,"onUpdate:modelValue":l[2]||(l[2]=e=>n.term1=e),min:0,max:100},null,8,["modelValue"])])),_:1}),(0,u.Wm)(E,{span:1}),(0,u.Wm)(E,{span:9},{default:(0,u.w5)((()=>[(0,u.Wm)(A,{placeholder:"请填写第二学期体育成绩",modelValue:n.term2,"onUpdate:modelValue":l[3]||(l[3]=e=>n.term2=e),min:0,max:100},null,8,["modelValue"])])),_:1}),(0,u.Wm)(E,{span:1}),(0,u.Wm)(E,{span:2},{default:(0,u.w5)((()=>[w])),_:1}),(0,u.Wm)(E,{span:2},{default:(0,u.w5)((()=>[(0,u._)("h3",null,(0,o.zw)(n.tyScore)+"/10",1)])),_:1})])),_:1}),_,b,g,(0,u.Wm)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:3},{default:(0,u.w5)((()=>[(0,u.Wm)(A,{placeholder:"竞赛名称",modelValue:n.contestName,"onUpdate:modelValue":l[4]||(l[4]=e=>n.contestName=e)},null,8,["modelValue"]),h,V,(0,u.Wm)(Z,{placeholder:"青年大学习打卡次数",modelValue:n.clock,"onUpdate:modelValue":l[5]||(l[5]=e=>n.clock=e)},{default:(0,u.w5)((()=>[(0,u.Wm)(P,{label:"0",value:"0"}),(0,u.Wm)(P,{label:"1",value:"1"}),(0,u.Wm)(P,{label:"2",value:"2"}),(0,u.Wm)(P,{label:"3",value:"3"}),(0,u.Wm)(P,{label:"4",value:"4"}),(0,u.Wm)(P,{label:"5",value:"5"}),(0,u.Wm)(P,{label:"6",value:"6"}),(0,u.Wm)(P,{label:"7",value:"7"}),(0,u.Wm)(P,{label:"8",value:"8"}),(0,u.Wm)(P,{label:"9",value:"9"}),(0,u.Wm)(P,{label:"10",value:"10"}),(0,u.Wm)(P,{label:"11",value:"11"}),(0,u.Wm)(P,{label:"12",value:"12"}),(0,u.Wm)(P,{label:"13",value:"13"}),(0,u.Wm)(P,{label:"14",value:"14"}),(0,u.Wm)(P,{label:"15",value:"15"}),(0,u.Wm)(P,{label:"16",value:"16"})])),_:1},8,["modelValue"])])),_:1}),(0,u.Wm)(E,{span:1}),(0,u.Wm)(E,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(G,{border:"",height:"200px",data:n.contest},{default:(0,u.w5)((()=>[(0,u.Wm)(j,{label:"竞赛名称",prop:"name",align:"center"},{default:(0,u.w5)((e=>[(0,u._)("div",{onClick:l=>n.addContest(e.row)},(0,o.zw)(e.row.name),9,y)])),_:1})])),_:1},8,["data"])])),_:1}),(0,u.Wm)(E,{span:1}),(0,u.Wm)(E,{span:13},{default:(0,u.w5)((()=>[(0,u.Wm)(G,{border:"",height:"200px",data:n.contestData},{default:(0,u.w5)((()=>[(0,u.Wm)(j,{label:"获奖竞赛",prop:"name",align:"center"},{default:(0,u.w5)((e=>[(0,u._)("div",{onClick:l=>n.removeContest(e.row)},(0,o.zw)(e.row.name),9,C)])),_:1}),(0,u.Wm)(j,{label:"竞赛等级",prop:"score",align:"center"},{default:(0,u.w5)((e=>[(0,u.Wm)(Z,{placeholder:"请选择竞赛等级",modelValue:e.row.level,"onUpdate:modelValue":l=>e.row.level=l},{default:(0,u.w5)((()=>[(0,u.Wm)(P,{label:"不评选等级",value:"不评选等级"}),(0,u.Wm)(P,{label:"校级",value:"校级"}),(0,u.Wm)(P,{label:"市级",value:"市级"}),(0,u.Wm)(P,{label:"国家级",value:"国家级"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),(0,u.Wm)(j,{label:"获奖等级",prop:"score",align:"center"},{default:(0,u.w5)((e=>[(0,u.Wm)(Z,{placeholder:"请选择获奖等级",modelValue:e.row.lv,"onUpdate:modelValue":l=>e.row.lv=l},{default:(0,u.w5)((()=>[(0,u.Wm)(P,{label:"不评选等级",value:"不评选等级"}),(0,u.Wm)(P,{label:"一等奖",value:"一等奖"}),(0,u.Wm)(P,{label:"二等奖",value:"二等奖"}),(0,u.Wm)(P,{label:"三等奖",value:"三等奖"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"])])),_:1})])),_:1}),x,(0,u.Wm)(M,{align:"right"},{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:20}),(0,u.Wm)(E,{span:2},{default:(0,u.w5)((()=>[k])),_:1}),(0,u.Wm)(E,{span:2},{default:(0,u.w5)((()=>[(0,u._)("h3",null,(0,o.zw)(n.extroScore)+"/8",1)])),_:1})])),_:1}),z,N,U,(0,u.Wm)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:18},{default:(0,u.w5)((()=>[(0,u._)("h4",null,"*注：本学年互评分采取14.9-15中的随机数，为["+(0,o.zw)(n.randScore)+"分]",1)])),_:1}),(0,u.Wm)(E,{span:2},{default:(0,u.w5)((()=>[(0,u.Wm)(q,{type:"primary",onClick:l[6]||(l[6]=l=>e.$router.go(0))},{default:(0,u.w5)((()=>[F])),_:1})])),_:1}),(0,u.Wm)(E,{span:4},{default:(0,u.w5)((()=>[(0,u.Wm)(q,{type:"primary",onClick:l[7]||(l[7]=e=>n.resDialog=!n.resDialog)},{default:(0,u.w5)((()=>[S])),_:1})])),_:1})])),_:1}),(0,u.Wm)(B,{modelValue:n.resDialog,"onUpdate:modelValue":l[8]||(l[8]=e=>n.resDialog=e)},{default:(0,u.w5)((()=>[(0,u.Wm)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:11},{default:(0,u.w5)((()=>[H])),_:1}),(0,u.Wm)(E,{span:2}),(0,u.Wm)(E,{span:11},{default:(0,u.w5)((()=>[D,(0,u._)("h1",null,(0,o.zw)((Number(n.zyScore)+Number(n.tyScore)+Number(n.extroScore)+Number(n.randScore)).toFixed(2)),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])}var O=a(4870),A=a(2167),E={setup(){const{proxy:e}=(0,u.FN)(),l=(0,O.iH)(!1),a=(0,O.iH)([]),o=(0,O.iH)([]),n=(0,u.Fl)((()=>a.value.filter((e=>"undefined"==typeof s.value&&"undefined"==typeof m.value||("undefined"==typeof s.value?0==e.code.indexOf(m.value):("undefined"==typeof m.value||0==e.code.indexOf(m.value))&&-1!=e.name.indexOf(s.value)))))),t=(0,u.Fl)((()=>"undefined"==typeof c.value?o.value:o.value.filter((e=>-1!=e.name.indexOf(c.value))))),r=(0,O.iH)([]),d=(0,O.iH)([]),m=(0,O.iH)(),s=(0,O.iH)(),c=(0,O.iH)(),i=(0,O.iH)(),p=(0,O.iH)(),f=(0,O.iH)(),v=(0,u.Fl)((()=>{let l=0,a=0;return r.value.forEach((u=>{"undefined"!=typeof u.score&&null!=u.score&&""!=u.score&&(u.score<60&&u.score>=0?l+=0:u.score<64?l+=1*u.credit:u.score<68?l+=1.7*u.credit:u.score<72?l+=2*u.credit:u.score<75?l+=2.3*u.credit:u.score<78?l+=2.7*u.credit:u.score<82?l+=3*u.credit:u.score<85?l+=3.3*u.credit:u.score<90?l+=3.7*u.credit:u.score<=100?l+=4*u.credit:e.$message({message:"我想您的成绩应当为与0-100的区间",type:"error"}),a+=u.credit)})),0==a?0:(l/a).toFixed(2)})),W=(0,u.Fl)((()=>{let e=0,l=0;return r.value.forEach((a=>{"undefined"!=typeof a.score&&null!=a.score&&""!=a.score&&(e+=a.credit*a.score,l+=a.credit)})),0==l?0:(e/l*.6).toFixed(2)})),w=(0,u.Fl)((()=>"undefined"==typeof p.value||null==p.value||""==p.value?0:((Number(i.value)+Number(p.value))/20).toFixed(2))),_=(0,u.Fl)((()=>{let e=0;return d.value.forEach((l=>{"undefined"!=typeof l.level&&null!=l.level&&""!=l.level&&"undefined"!=typeof l.lv&&null!=l.lv&&""!=l.lv&&("校级"==l.level?e+=.5:"市级"==l.level?e+=1.6:"国家级"==l.level?e+=2:e+=Number(l.credit))})),"undefined"==typeof f.value||null==f.value||""==f.value?(2.5+(e<3.5?e:3.5)).toFixed(2):(2.5-.1*(16-Number(f.value))+(e<3.5?e:3.5)).toFixed(2)})),b=(14.9+Math.random()/10).toFixed(2);async function g(){a.value=[],o.value=[];const e=await A.x.getAllCourse();a.value=e.data;const l=await A.x.getAllContest();o.value=l.data}function h(l){r.value.includes(l)?e.$message({message:"选课失败，您已选择该课程",type:"error"}):(e.$message({message:"选课成功",type:"success"}),r.value.push(l))}function V(l){d.value.includes(l)?e.$message({message:"参赛失败，您已参加该竞赛",type:"error"}):(e.$message({message:"参赛成功，且直接获奖",type:"success"}),d.value.push(l))}function y(l){r.value=r.value.filter((e=>e.id!=l.id)),e.$message({message:"退课成功",type:"success"})}function C(l){d.value=d.value.filter((e=>e.id!=l.id)),e.$message({message:"退赛成功",type:"success"})}return g(),{allCourse:a,allContest:o,courseCode:m,courseName:s,contestName:c,course:n,contest:t,resDialog:l,courseData:r,contestData:d,term1:i,term2:p,clock:f,gpa:v,zyScore:W,tyScore:w,extroScore:_,randScore:b,addCourse:h,addContest:V,removeCourse:y,removeContest:C}}},j=a(89);const G=(0,j.Z)(E,[["render",$]]);var M=G}}]);
//# sourceMappingURL=560.791ce924.js.map